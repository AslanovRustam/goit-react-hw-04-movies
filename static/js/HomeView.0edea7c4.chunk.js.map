{"version":3,"sources":["services/MoviesApi.js","views/FilmPendingView/FilmPendingView.js","views/FilmPendingView/FilmPendingView.module.css","views/FilmErrorView/FilmErrorView.js","views/FilmErrorView/FilmErrorView.module.css","views/homePagesViews.module.css","views/Home.js"],"names":["BASE_URL","API_KEY","POSTER_URL","fetchWithErrorHendling","a","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendingMovies","fetchMoviesByName","name","fetchMovieDetails","id","fetchMoviesCasts","fetchMovieReviews","FilmPendingView","className","s","loader","type","color","height","width","Component","module","exports","FilmErrorView","message","role","Status","HomeView","useRouteMatch","useState","films","setFilms","error","setError","status","setStatus","useEffect","then","request","results","catch","err","title","list","map","film","poster_path","item","to","link","image","src","alt","filmTitle"],"mappings":"kXAAMA,EAAW,+BACXC,EAAU,mCACHC,EAAa,kC,SAEXC,I,2EAAf,4CAAAC,EAAA,6DAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SACyBC,MAAMF,EAAKC,GADpC,YACQE,EADR,QAEkBC,GAFlB,iCAGYD,EAASE,OAHrB,gDAIMC,QAAQC,OAAO,IAAIC,MAAM,cAJ/B,oF,sBAOO,SAASC,IACd,OAAOX,EAAuB,GAAD,OACxBH,EADwB,qCACaC,IAIrC,SAASc,EAAkBC,GAChC,OAAOb,EAAuB,GAAD,OACxBH,EADwB,iCACSC,EADT,iCACyCe,EADzC,gCAKxB,SAASC,EAAkBC,GAChC,OAAOf,EAAuB,GAAD,OACxBH,EADwB,kBACNkB,EADM,oBACQjB,EADR,oBAKxB,SAASkB,EAAiBD,GAC/B,OAAOf,EAAuB,GAAD,OACxBH,EADwB,kBACNkB,EADM,4BACgBjB,EADhB,oBAKxB,SAASmB,EAAkBF,GAChC,OAAOf,EAAuB,GAAD,OACxBH,EADwB,kBACNkB,EADM,4BACgBjB,EADhB,6B,4HC/BzBoB,E,uKAEF,OACE,cAAC,IAAD,CACEC,UAAWC,IAAEC,OACbC,KAAK,QACLC,MAAM,UACNC,OAAQ,GACRC,MAAO,S,GAReC,aAcfR,O,mBClBfS,EAAOC,QAAU,CAAC,OAAS,kC,4DCgBZC,IAdf,YAAqC,IAAZC,EAAW,EAAXA,QACvB,OACE,qBAAKC,KAAK,QAAV,SACE,oBAAGZ,UAAWC,IAAEU,QAAhB,2DACiDA,S,mBCNvDH,EAAOC,QAAU,CAAC,QAAU,iC,mBCA5BD,EAAOC,QAAU,CAAC,MAAQ,8BAA8B,KAAO,6BAA6B,KAAO,6BAA6B,KAAO,6BAA6B,MAAQ,8BAA8B,UAAY,oC,iKCMhNI,EACK,UADLA,EAEM,WAFNA,EAGM,WAGG,SAASC,IAAY,IAC1B/B,EAAQgC,cAARhC,IADyB,EAEPiC,mBAAS,IAFF,mBAE1BC,EAF0B,KAEnBC,EAFmB,OAGPF,mBAAS,IAHF,mBAG1BG,EAH0B,KAGnBC,EAHmB,OAILJ,mBAASH,GAJJ,mBAI1BQ,EAJ0B,KAIlBC,EAJkB,KAiBjC,OAXAC,qBAAU,WACRD,EAAUT,GACVrB,cACGgC,MAAK,SAACC,GAAD,OAAaP,EAASO,EAAQC,YACnCF,KAAKF,EAAUT,IACfc,OAAM,SAACC,GACNR,EAASQ,GACTN,EAAUT,QAEb,IAECQ,IAAWR,EACN,cAAC,IAAD,IAGLQ,IAAWR,EACN,cAAC,IAAD,CAAeF,QAASQ,EAAMR,UAGnCU,IAAWR,EAEX,qCACE,mBAAGb,UAAWC,IAAE4B,MAAhB,4BACA,oBAAI7B,UAAWC,IAAE6B,KAAjB,SACGb,EAAMc,KAAI,SAACC,GAAD,OACT,mCACGA,EAAKC,aACJ,oBAAkBjC,UAAWC,IAAEiC,KAA/B,SACE,eAAC,IAAD,CAAMC,GAAE,UAAKpD,EAAL,kBAAkBiD,EAAKpC,IAAMI,UAAWC,IAAEmC,KAAlD,UACE,qBACEpC,UAAWC,IAAEoC,MACbC,IAAK1D,IAAaoD,EAAKC,YACvBM,IAAKP,EAAKH,MACVvB,MAAM,MACND,OAAO,QAET,mBAAGL,UAAWC,IAAEuC,UAAhB,SAA4BR,EAAKH,YAT5BG,EAAKpC,mBAR5B","file":"static/js/HomeView.0edea7c4.chunk.js","sourcesContent":["const BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"65125fece056379d46954e3213fdb44a\";\r\nexport const POSTER_URL = \"https://image.tmdb.org/t/p/w500\";\r\n\r\nasync function fetchWithErrorHendling(url = \"\", config = {}) {\r\n  const response = await fetch(url, config);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"Not found\"));\r\n}\r\n\r\nexport function fetchTrendingMovies() {\r\n  return fetchWithErrorHendling(\r\n    `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\r\n  );\r\n}\r\n\r\nexport function fetchMoviesByName(name) {\r\n  return fetchWithErrorHendling(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&query=${name}&page=1&include_adult=false`\r\n  );\r\n}\r\n\r\nexport function fetchMovieDetails(id) {\r\n  return fetchWithErrorHendling(\r\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n\r\nexport function fetchMoviesCasts(id) {\r\n  return fetchWithErrorHendling(\r\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n\r\nexport function fetchMovieReviews(id) {\r\n  return fetchWithErrorHendling(\r\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./FilmPendingView.module.css\";\r\n\r\nclass FilmPendingView extends Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        className={s.loader}\r\n        type=\"Audio\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FilmPendingView;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"FilmPendingView_loader__35k67\"};","import PropTypes from \"prop-types\";\r\nimport s from \"./FilmErrorView.module.css\";\r\n\r\nfunction FilmErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <p className={s.message}>\r\n        Sorry, we cannot process your request. Error: {message}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nFilmErrorView.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FilmErrorView;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"FilmErrorView_message__13OmD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"homePagesViews_title__2r1DV\",\"list\":\"homePagesViews_list__32GHb\",\"item\":\"homePagesViews_item__LcteM\",\"link\":\"homePagesViews_link__cl1Re\",\"image\":\"homePagesViews_image__wyJMQ\",\"filmTitle\":\"homePagesViews_filmTitle__3pogL\"};","import { useState, useEffect } from \"react\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport { fetchTrendingMovies, POSTER_URL } from \"../services/MoviesApi\";\r\nimport FilmPendingView from \"./FilmPendingView/FilmPendingView\";\r\nimport FilmErrorView from \"./FilmErrorView/FilmErrorView\";\r\nimport s from \"../views/homePagesViews.module.css\";\r\n\r\nconst Status = {\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport default function HomeView() {\r\n  const { url } = useRouteMatch();\r\n  const [films, setFilms] = useState([]);\r\n  const [error, setError] = useState({});\r\n  const [status, setStatus] = useState(Status.PENDING);\r\n\r\n  useEffect(() => {\r\n    setStatus(Status.PENDING);\r\n    fetchTrendingMovies()\r\n      .then((request) => setFilms(request.results))\r\n      .then(setStatus(Status.RESOLVED))\r\n      .catch((err) => {\r\n        setError(err);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, []);\r\n\r\n  if (status === Status.PENDING) {\r\n    return <FilmPendingView />;\r\n  }\r\n\r\n  if (status === Status.REJECTED) {\r\n    return <FilmErrorView message={error.message} />;\r\n  }\r\n\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <>\r\n        <p className={s.title}>Trending today</p>\r\n        <ul className={s.list}>\r\n          {films.map((film) => (\r\n            <>\r\n              {film.poster_path && (\r\n                <li key={film.id} className={s.item}>\r\n                  <Link to={`${url}movies/${film.id}`} className={s.link}>\r\n                    <img\r\n                      className={s.image}\r\n                      src={POSTER_URL + film.poster_path}\r\n                      alt={film.title}\r\n                      width=\"300\"\r\n                      height=\"450\"\r\n                    />\r\n                    <p className={s.filmTitle}>{film.title}</p>\r\n                  </Link>\r\n                </li>\r\n              )}\r\n            </>\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}