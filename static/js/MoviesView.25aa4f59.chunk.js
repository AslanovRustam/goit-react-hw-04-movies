(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{36:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p}));var r=n(38),c=n.n(r),a=n(39),i="https://api.themoviedb.org/3",o="65125fece056379d46954e3213fdb44a",s="https://image.tmdb.org/t/p/w500";function u(){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(c.a.mark((function e(){var t,n,r,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return u("".concat(i,"/trending/all/day?api_key=").concat(o))}function j(e){return u("".concat(i,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))}function f(e){return u("".concat(i,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))}function m(e){return u("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(o,"&language=en-US"))}function p(e){return u("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1"))}},41:function(e,t,n){"use strict";var r=n(1),c=n(45),a=n(46),i=n(50),o=n(49),s=n(0),u=n(47),l=n.n(u),b=(n(48),n(42)),j=n.n(b),f=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(r.jsx)(l.a,{className:j.a.loader,type:"Audio",color:"#00BFFF",height:80,width:80})}}]),n}(s.Component);t.a=f},42:function(e,t,n){e.exports={loader:"FilmPendingView_loader__35k67"}},43:function(e,t,n){"use strict";var r=n(1),c=n(44),a=n.n(c);t.a=function(e){var t=e.message;return Object(r.jsx)("div",{role:"alert",children:Object(r.jsxs)("p",{className:a.a.message,children:["Sorry, we cannot process your request. Error: ",t]})})}},44:function(e,t,n){e.exports={message:"FilmErrorView_message__13OmD"}},71:function(e,t,n){e.exports={button:"stylesViews_button__24i6u",input:"stylesViews_input__1xTE3"}},72:function(e,t,n){e.exports={list:"FilmGalleryView_list__1t5aB",item:"FilmGalleryView_item__e53ys",link:"FilmGalleryView_link__jiRuC",image:"FilmGalleryView_image__3Iz3E",title:"FilmGalleryView_title__2zexQ"}},83:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n(1);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=n(37),s=n(0),u=n(2),l=n(17),b=n(71),j=n.n(b);var f=function(e){var t=e.onSubmit,n=Object(s.useState)(""),c=Object(o.a)(n,2),a=c[0],i=c[1];return Object(r.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),i("")):Object(l.b)("Please enter the query!")},children:[Object(r.jsx)("input",{className:j.a.input,type:"text",name:"filmName",value:a,onChange:function(e){i(e.currentTarget.value.toLowerCase())},autocomplete:"off",autofocus:!0,placeholder:"Search movie by name"}),Object(r.jsx)("button",{type:"submit",className:j.a.button,children:Object(r.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})},m=n(43),p=n(41),O=n(10),d=n(36),h=n(72),g=n.n(h);var y=function(e){var t=e.films,n=Object(u.i)().url;return Object(r.jsx)("ul",{className:g.a.list,children:t.map((function(e){return Object(r.jsx)(r.Fragment,{children:e.poster_path&&Object(r.jsx)("li",{className:g.a.item,children:Object(r.jsxs)(O.b,{to:"".concat(n,"/").concat(e.id),className:g.a.link,children:[Object(r.jsx)("img",{className:g.a.image,src:d.a+e.poster_path,alt:e.title,width:"300",height:"450"}),Object(r.jsx)("p",{className:g.a.title,children:e.title})]})},e.id)})}))})},v="idle",_="pending",x="resolved",w="rejected";function S(e){var t=e.filmName,n=e.queryURL,c=Object(s.useState)({}),a=Object(o.a)(c,2),i=a[0],u=a[1],l=Object(s.useState)(v),b=Object(o.a)(l,2),j=b[0],f=b[1],O=Object(s.useState)([]),h=Object(o.a)(O,2),g=h[0],S=h[1],k=function(e){Object(d.d)(e).then((function(e){if(!(e.total_results>0))return Promise.reject(new Error("Invalid request"));S(e.results),f(x)})).catch((function(e){u(e),f(w)}))};return Object(s.useEffect)((function(){""!==t||null===n?t&&k(t):k(n)}),[t,n]),j===v?Object(r.jsx)("p",{children:"Please enter your search term"}):j===_?Object(r.jsx)(p.a,{}):j===w?Object(r.jsx)(m.a,{message:i.message}):j===x?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(y,{films:g})}):void 0}function k(){var e=Object(u.f)(),t=Object(u.g)(),n=Object(s.useState)(""),c=Object(o.a)(n,2),a=c[0],l=c[1],b=Object(s.useState)([]),j=Object(o.a)(b,2),m=(j[0],j[1]),p=new URLSearchParams(t.search).get("query");console.log(p);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f,{onSubmit:function(n){var r;l(n),m([]),r=n,e.push(i(i({},t),{},{search:"query=".concat(r)}))}}),Object(r.jsx)(S,{filmName:a,queryURL:p})]})}}}]);
//# sourceMappingURL=MoviesView.25aa4f59.chunk.js.map